<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Escolha um Presente | P√©rola Sofia</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Estilos m√≠nimos para a classe 'esgotado' */
    .esgotado {
      opacity: 0.6;
      pointer-events: none;
    }
    .botao-escolher {
      background-color: #098dac;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      cursor: pointer;
      transition: background 0.3s ease;
      font-weight: bold;
    }
    .botao-escolher:hover:not(:disabled) {
      background-color: #b39ddb;
    }
    .botao-escolher:disabled {
      background-color: gray;
      cursor: not-allowed;
    }
body {
  margin: 0;
  font-family: Arial, sans-serif;
  color: #333;
  background: linear-gradient(-45deg, #ffffff, #dff6f9, #ffffff, #f3eaff);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
  </style>
</head>
<body>
  <header>
    <div class="container header-container">
      <img src="img/logo.jpeg" alt="Logo da P√©rola Sofia" class="logo" />
      <nav>
        <ul>
          <li><a href="index.html">In√≠cio</a></li>
          <li><a href="presente.html">Presentes</a></li>
          <li><a href="galeria.html">Galeria</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="presentes">
    <div class="container">
      <h1>Escolha um presente para a P√©rola Sofia</h1>
      <p>Cada item s√≥ pode ser escolhido uma vez. Ap√≥s escolher, voc√™ ver√° o QR Code do PIX üíñ</p>

      <div class="grade-presentes">
        <div class="presente" data-id="1">
  <img src="img/presente1.jpeg" alt="Piscina de bolinhas e cabaninha" />
  <h3>Piscina de bolinhas e cabaninha</h3>
  <p>R$ 99,90</p>
  <button class="botao-escolher" data-id="1">Escolher</button>
</div>
        
<div class="presente" data-id="2">
  <img src="img/presente2.jpeg" alt="Mesa Educativa" />
  <h3>Mesa Educativa</h3>
  <p>R$ 69,90</p>
<button class="botao-escolher" data-id="2">Escolher</button>
</div>
        
<div class="presente" data-id="3">
  <img src="img/presente3.jpeg" alt="Kit de 5 eletrodom√©sticos infantil" />
  <h3>Kit de 5 eletrodom√©sticos infantil</h3>
  <p>R$ 70,00</p>
<button class="botao-escolher" data-id="3">Escolher</button>
</div>
        
<div class="presente" data-id="4">
  <img src="img/presente4.jpeg" alt="Patinete" />
  <h3>Patinete</h3>
  <p>R$ 76,00</p>
<button class="botao-escolher" data-id="4">Escolher</button>
</div>
        
<div class="presente" data-id="5">
  <img src="img/presente5.jpeg" alt="Carrinho Educativo" />
  <h3>Carrinho Educativo</h3>
  <p>R$ 86,76</p>
<button class="botao-escolher" data-id="5">Escolher</button>
</div>
        
<div class="presente" data-id="6">
  <img src="img/presente6.jpeg" alt="Carrinho de beb√™ com boneca" />
  <h3>Carrinho de beb√™ com boneca</h3>
  <p>R$ 68,90</p>
<button class="botao-escolher" data-id="6">Escolher</button>
</div>
        
<div class="presente" data-id="7">
  <img src="img/presente7.jpeg" alt="Boneca Lola" />
  <h3>Boneca Lola</h3>
  <p>R$ 58,90</p>
<button class="botao-escolher" data-id="7">Escolher</button>
</div>
        
<div class="presente" data-id="8">
  <img src="img/presente8.jpeg" alt="Teclado Infantil" />
  <h3>Teclado Infantil</h3>
  <p>R$ 55,00</p>
<button class="botao-escolher" data-id="8">Escolher</button>
</div>
        
<div class="presente" data-id="9">
  <img src="img/presente9.jpeg" alt="M√°quina de v√≠deo digital infantil 1080p com UBS" />
  <h3>M√°quina de v√≠deo digital infantil 1080p com UBS</h3>
  <p>R$ 85,90</p>
<button class="botao-escolher" data-id="9">Escolher</button>
</div>
        
<div class="presente" data-id="10">
  <img src="img/presente10.jpeg" alt="Mini Caixa de som com microfone karaok√™" />
  <h3>Mini Caixa de som com microfone karaok√™</h3>
  <p>R$ 65,00</p>
<button class="botao-escolher" data-id="10">Escolher</button>
</div>
        
<div class="presente" data-id="11">
  <img src="img/presente11.jpeg" alt="Cadeira Educativa" />
  <h3>Cadeira Educativa</h3>
  <p>R$ 53,50</p>
<button class="botao-escolher" data-id="11">Escolher</button>
</div>
        
<div class="presente" data-id="12">
  <img src="img/presente12.jpeg" alt="Cavalinho pula pula com bot√£o sonoro musical" />
  <h3>Cavalinho pula pula com bot√£o sonoro musical</h3>
  <p>R$ 58,95</p>
<button class="botao-escolher" data-id="12">Escolher</button>
</div>
        
<div class="presente" data-id="13">
  <img src="img/presente13.jpeg" alt="Barraquinha princesa rosa" />
  <h3>Barraquinha princesa rosa</h3>
  <p>R$ 83,90</p>
<button class="botao-escolher" data-id="13">Escolher</button>
</div>
        
<div class="presente" data-id="14">
  <img src="img/presente14.jpeg" alt="Troninho privada com len√ßinho umedecido embutido" />
  <h3>Troninho privada com len√ßinho umedecido embutido</h3>
  <p>R$ 79,90</p>
<button class="botao-escolher" data-id="14">Escolher</button>
</div>
        
<div class="presente" data-id="15">
  <img src="img/presente15.jpeg" alt="Sand√°lia + bolsinha transversal rosa" />
  <h3>Sand√°lia + bolsinha transversal rosa</h3>
  <p>R$ 95,00</p>
<button class="botao-escolher" data-id="15">Escolher</button>
</div>
        
<div class="presente" data-id="16">
  <img src="img/presente16.jpeg" alt="Garrafinha t√©rmica com al√ßas transversal" />
  <h3>Garrafinha t√©rmica com al√ßas transversal</h3>
  <p>R$ 68,95</p>
<button class="botao-escolher" data-id="16">Escolher</button>
</div>
        
<div class="presente" data-id="17">
  <img src="img/presente17.jpeg" alt="Sand√°lia floral com p√©rolas" />
  <h3>Sand√°lia floral com p√©rolas</h3>
  <p>R$ 80,00</p>
<button class="botao-escolher" data-id="17">Escolher</button>
</div>
        
<div class="presente" data-id="18">
  <img src="img/presente18.jpeg" alt="Sapatinho cristal borboleta com p√©rolas" />
  <h3>Sapatinho cristal borboleta com p√©rolas</h3>
  <p>R$ 91,73</p>
<button class="botao-escolher" data-id="18">Escolher</button>
</div>
        
<div class="presente" data-id="19">
  <img src="img/presente19.jpeg" alt="Sapatinho cristal ros√© com p√©rolas" />
  <h3>Sapatinho cristal ros√© com p√©rolas</h3>
  <p>R$ 90,45</p>
<button class="botao-escolher" data-id="19">Escolher</button>
</div>
        
<div class="presente" data-id="20">
  <img src="img/presente20.jpeg" alt="Vestido infantil + lacinho" />
  <h3>Vestido infantil + lacinho</h3>
  <p>R$ 75,00</p>
<button class="botao-escolher" data-id="20">Escolher</button>
</div>
        
<div class="presente" data-id="21">
  <img src="img/presente21.jpeg" alt="Moletom infantil rosa" />
  <h3>Moletom infantil rosa</h3>
  <p>R$ 60,50</p>
<button class="botao-escolher" data-id="21">Escolher</button>
</div>
        
<div class="presente" data-id="22">
  <img src="img/presente22.jpeg" alt="Vestido infantil marsala + lacinho" />
  <h3>Vestido infantil marsala + lacinho</h3>
  <p>R$ 75,10</p>
<button class="botao-escolher" data-id="22">Escolher</button>
</div>
        
<div class="presente" data-id="23">
  <img src="img/presente23.jpeg" alt="Vestido Safari rosa" />
  <h3>Vestido Safari rosa</h3>
  <p>R$ 74,80</p>
<button class="botao-escolher" data-id="23">Escolher</button>
</div>
        
<div class="presente" data-id="24">
  <img src="img/presente24.jpeg" alt="Vestido infantil floral + lacinho" />
  <h3>Vestido infantil floral + lacinho</h3>
  <p>R$ 75,50</p>
<button class="botao-escolher" data-id="24">Escolher</button>
</div>
        
<div class="presente" data-id="25">
  <img src="img/presente25.jpeg" alt="Conjunto saia xadrez e blusa de manga longa canelado + lacinho" />
  <h3>Conjunto saia xadrez e blusa de manga longa canelado + lacinho</h3>
  <p>R$ 88,90</p>
<button class="botao-escolher" data-id="25">Escolher</button>
</div>
        
<div class="presente" data-id="26">
  <img src="img/presente26.jpeg" alt="Bolsinha de pel√∫cia unic√≥rnio" />
  <h3>Bolsinha de pel√∫cia unic√≥rnio</h3>
  <p>R$ 55,19</p>
<button class="botao-escolher" data-id="26">Escolher</button>
</div>
        
<div class="presente" data-id="27">
  <img src="img/presente27.jpeg" alt="Sand√°lia rasteira dourada" />
  <h3>Sand√°lia rasteira dourada</h3>
  <p>R$ 68,50</p>
<button class="botao-escolher" data-id="27">Escolher</button>
</div>
        
<div class="presente" data-id="28">
  <img src="img/presente28.jpeg" alt="Coturno infantil rosa" />
  <h3>Coturno infantil rosa</h3>
  <p>R$ 97,90</p>
<button class="botao-escolher" data-id="28">Escolher</button>
</div>
        
<div class="presente" data-id="29">
  <img src="img/presente29.jpeg" alt="Sand√°lia cauda de sereia" />
  <h3>Sand√°lia cauda de sereia</h3>
  <p>R$ 69,50</p>
<button class="botao-escolher" data-id="29">Escolher</button>
</div>
        
<div class="presente" data-id="30">
  <img src="img/presente30.jpeg" alt="Kit infantil bolero e vestido floral + presilha lacinho" />
  <h3>Kit infantil bolero e vestido floral + presilha lacinho</h3>
  <p>R$ 98,90</p>
<button class="botao-escolher" data-id="30">Escolher</button>
</div>
        
<div class="presente" data-id="31">
  <img src="img/presente31.jpeg" alt="Vestido princesa de luxo rosa" />
  <h3>Vestido princesa de luxo rosa</h3>
  <p>R$ 93,70</p>
<button class="botao-escolher" data-id="31">Escolher</button>
</div>
        
<div class="presente" data-id="32">
  <img src="img/presente32.jpeg" alt="Conjunto jardineira com faixa lacinho" />
  <h3>Conjunto jardineira com faixa lacinho</h3>
  <p>R$ 96,00</p>
<button class="botao-escolher" data-id="32">Escolher</button>
</div>
        
<div class="presente" data-id="33">
  <img src="img/presente33.jpeg" alt="Conjunto saia e blusa de manga longa inverno" />
  <h3>Conjunto saia e blusa de manga longa inverno</h3>
  <p>R$ 89,97</p>
<button class="botao-escolher" data-id="33">Escolher</button>
</div>
        
<div class="presente" data-id="34">
  <img src="img/presente34.jpeg" alt="Sand√°lia rasteira tiras com flor" />
  <h3>Sand√°lia rasteira tiras com flor</h3>
  <p>R$ 64,90</p>
<button class="botao-escolher" data-id="34">Escolher</button>
</div>
        
<div class="presente" data-id="35">
  <img src="img/presente35.jpeg" alt="Sand√°lia rasteira margarida" />
  <h3>Sand√°lia rasteira margarida</h3>
  <p>R$ 55,20</p>
<button class="botao-escolher" data-id="35">Escolher</button>
</div>
        
<div class="presente" data-id="36">
  <img src="img/presente36.jpeg" alt="Jardineira Romper bolofos rosa + lacinho" />
  <h3>Jardineira Romper bolofos rosa + lacinho</h3>
  <p>R$ 80,20</p>
<button class="botao-escolher" data-id="36">Escolher</button>
</div>
        
<div class="presente" data-id="37">
  <img src="img/presente37.jpeg" alt="Bolsinha transversal com lacinho de boneca" />
  <h3>Bolsinha transversal com lacinho de boneca</h3>
  <p>R$ 69,98</p>
<button class="botao-escolher" data-id="37">Escolher</button>
</div>
        
<div class="presente" data-id="38">
  <img src="img/presente38.jpeg" alt="Kit Jeans" />
  <h3>Kit Jeans</h3>
  <p>R$ 65,10</p>
<button class="botao-escolher" data-id="38">Escolher</button>
</div>
<div class="presente" data-id="39">
  <img src="img/presente39.jpeg" alt="Argola Infantil" />
  <h3>Argola Infantil</h3>
  <p>R$ 88,40</p>
<button class="botao-escolher" data-id="39">Escolher</button>
</div>
        
<div class="presente" data-id="40">
  <img src="img/presente40.jpeg" alt="Conjunto Infantil Salopete" />
  <h3>Conjunto Infantil Salopete</h3>
  <p>R$ 69,36</p>
<button class="botao-escolher" data-id="40">Escolher</button>
</div>
        
<div class="presente" data-id="41">
  <img src="img/presente41.jpeg" alt="Vestido moletom + bolsinha" />
  <h3>Vestido moletom + bolsinha</h3>
  <p>R$ 95,30</p>
<button class="botao-escolher" data-id="41">Escolher</button>
</div>
        
<div class="presente" data-id="42">
  <img src="img/presente42.jpeg" alt="Roup√£o Infantil" />
  <h3>Roup√£o Infantil</h3>
  <p>R$ 51,55</p>
<button class="botao-escolher" data-id="42">Escolher</button>
</div>
        
<div class="presente" data-id="43">
  <img src="img/presente43.jpeg" alt="Vestidinho" />
  <h3>Vestidinho</h3>
  <p>R$ 80,30</p>
<button class="botao-escolher" data-id="43">Escolher</button>
</div>
        
<div class="presente" data-id="44">
  <img src="img/presente44.jpeg" alt="Col√¥nia Infantil" />
  <h3>Col√¥nia Infantil</h3>
  <p>R$ 86,00</p>
<button class="botao-escolher" data-id="44">Escolher</button>
</div>
        
<div class="presente" data-id="45">
  <img src="img/presente45.jpeg" alt="Roupa de Outono para Menina" />
  <h3>Roupa de Outono para Menina</h3>
  <p>R$ 89,90</p>
<button class="botao-escolher" data-id="45">Escolher</button>
</div>
        
<div class="presente" data-id="46">
  <img src="img/presente46.jpeg" alt="Sapatilha Feminina Infantil" />
  <h3>Sapatilha Feminina Infantil</h3>
  <p>R$ 59,60</p>
<button class="botao-escolher" data-id="46">Escolher</button>
</div>
        
<div class="presente" data-id="47">
  <img src="img/presente47.jpeg" alt="Crocs Infantil" />
  <h3>Crocs Infantil</h3>
  <p>R$ 85,00</p>
<button class="botao-escolher" data-id="47">Escolher</button>
</div>
        
<div class="presente" data-id="48">
  <img src="img/presente48.jpeg" alt="Conjunto infantil girassol" />
  <h3>Conjunto infantil girassol</h3>
  <p>R$ 68,94</p>
<button class="botao-escolher" data-id="48">Escolher</button>
</div>
        
<div class="presente" data-id="49">
  <img src="img/presente49.jpeg" alt="Col√¥nia Infantil Brincando de Chuva" />
  <h3>Col√¥nia Infantil Brincando de Chuva</h3>
  <p>R$ 89,92</p>
<button class="botao-escolher" data-id="49">Escolher</button>
</div>
<div class="presente" data-id="50">
  <img src="img/presente50.jpeg" alt="Sapato Infantil Antiderrapante" />
  <h3>Sapato Infantil Antiderrapante</h3>
  <p>R$ 70,10</p>
<button class="botao-escolher" data-id="50">Escolher</button>
</div>
        
<div class="presente" data-id="51">
  <img src="img/presente51.jpeg" alt="Lancheira Bolsa T√©rmica" />
  <h3>Lancheira Bolsa T√©rmica</h3>
  <p>R$ 85,10</p>
<button class="botao-escolher" data-id="51">Escolher</button>
</div>
        
<div class="presente" data-id="52">
  <img src="img/presente52.jpeg" alt="Brinco Argola Pequena Lisa" />
  <h3>Brinco Argola Pequena Lisa</h3>
  <p>R$ 60,00</p>
<button class="botao-escolher" data-id="52">Escolher</button>
</div>
        
<div class="presente" data-id="53">
  <img src="img/presente53.jpeg" alt="Triciclo Rosa" />
  <h3>Triciclo Rosa</h3>
  <p>R$ 72,55</p>
<button class="botao-escolher" data-id="53">Escolher</button>
</div>
        
<div class="presente" data-id="54">
  <img src="img/presente54.jpeg" alt="Cozinha completa grande" />
  <h3>Cozinha completa grande</h3>
  <p>R$ 94,28</p>
<button class="botao-escolher" data-id="54">Escolher</button>
</div>
        
<div class="presente" data-id="55">
  <img src="img/presente55.jpeg" alt="Macac√£o infantil" />
  <h3>Macac√£o infantil</h3>
  <p>R$ 93,25</p>
<button class="botao-escolher" data-id="55">Escolher</button>
</div>
        
<div class="presente" data-id="56">
  <img src="img/presente56.jpeg" alt="Vestido jardim encantado azul + lacinho" />
  <h3>Vestido jardim encantado azul + lacinho</h3>
  <p>R$ 98,42</p>
<button class="botao-escolher" data-id="56">Escolher</button>
</div>
        
<div class="presente" data-id="57">
  <img src="img/presente57.jpeg" alt="Vestido jardim encantado rosa + bolero + lacinho" />
  <h3>Vestido jardim encantado rosa + bolero + lacinho</h3>
  <p>R$ 98,77</p>
<button class="botao-escolher" data-id="57">Escolher</button>
</div>
        
<div class="presente" data-id="58">
  <img src="img/presente58.jpeg" alt="Vestido lil√°s com tule" />
  <h3>Vestido lil√°s com tule</h3>
  <p>R$ 87,99</p>
<button class="botao-escolher" data-id="58">Escolher</button>
</div>
        
<div class="presente" data-id="59">
  <img src="img/presente59.jpeg" alt="Vestido abelhinha + casaquinho" />
  <h3>Vestido abelhinha + casaquinho</h3>
  <p>R$ 84,99</p>
<button class="botao-escolher" data-id="59">Escolher</button>
</div>
        
<div class="presente" data-id="60">
  <img src="img/presente60.jpeg" alt="Boneca que fala + mamadeira m√°gica" />
  <h3>Boneca que fala + mamadeira m√°gica</h3>
  <p>R$ 95,58</p>
<button class="botao-escolher" data-id="60">Escolher</button>
</div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container footer-container">
      <p>&copy; 2025 - Anivers√°rio da P√©rola Sofia.üíú</p>
    </div>
  </footer>

<script>
  const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ_bYAVdiAcY5dMiO6NlVTiNx142VTmCDGF67YW29alpMZWSeC0sPUc8DLib_IxxeEondYa8_25S7M3/pub?gid=0&single=true&output=csv";

  // Converte CSV para JSON
  function csvToJson(csv) {
    const lines = csv.trim().split("\n");
    const headers = lines[0].split(",");
    return lines.slice(1).map(line => {
      const data = line.split(",");
      let obj = {};
      headers.forEach((h, i) => {
        obj[h.trim()] = data[i]?.trim();
      });
      return obj;
    });
  }

  // Atualiza status dos presentes
  async function atualizarPresentes() {
    try {
      const response = await fetch(csvUrl);
      if (!response.ok) throw new Error("Erro ao carregar CSV");
      const csv = await response.text();
      const dados = csvToJson(csv);

      dados.forEach(presente => {
        const id = presente.ID;
        const status = presente.Status?.toLowerCase();

        const item = document.querySelector(`.presente[data-id='${id}']`);
        if (item && status === "escolhido") {
          item.classList.add("esgotado");
          const botao = item.querySelector(".botao-escolher");
          if (botao) {
            botao.textContent = "Esgotado";
            botao.disabled = true;
          }
        }
      });
    } catch (error) {
      console.error("Erro ao atualizar presentes:", error);
    }
  }

  atualizarPresentes();

  // Redireciona ao clicar no bot√£o "Escolher"
  document.querySelectorAll(".botao-escolher").forEach(botao => {
    botao.addEventListener("click", () => {
      // Caso queira passar info do presente para a pr√≥xima p√°gina, pode usar query string.
      // Exemplo: escolhido.html?id=1
      const presenteDiv = botao.closest(".presente");
      const id = presenteDiv?.dataset.id || "";
      window.location.href = `escolhido.html?id=${id}`;
    });
  });
</script>

<script>
  document.querySelectorAll('.botao-escolher').forEach(botao => {
    botao.addEventListener('click', function () {
      const id = this.getAttribute('data-id');
      window.location.href = `escolhido.html?id=${id}`;
    });
  });
</script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const botoes = document.querySelectorAll(".botao-escolher");

    // Carrega do localStorage os presentes j√° escolhidos
    const escolhidos = JSON.parse(localStorage.getItem("presentesEscolhidos") || "[]");

    // Fun√ß√£o para marcar item como esgotado
    function marcarEsgotado(id) {
      const item = document.querySelector(`.presente[data-id='${id}']`);
      if (item) {
        item.classList.add("esgotado");
        const botao = item.querySelector(".botao-escolher");
        botao.disabled = true;
        botao.textContent = "Esgotado";
      }
    }

    // Aplica bloqueio aos itens salvos no localStorage
    escolhidos.forEach(id => marcarEsgotado(id));

    // Adiciona eventos de clique
    botoes.forEach(botao => {
      botao.addEventListener("click", () => {
        const id = botao.dataset.id;

        // Marca o item como escolhido
        marcarEsgotado(id);

        // Salva no localStorage
        escolhidos.push(id);
        localStorage.setItem("presentesEscolhidos", JSON.stringify(escolhidos));

        // Aqui voc√™ pode exibir o QR Code PIX
        alert("Presente escolhido com sucesso! Mostre o QR Code do PIX.");
      });
    });
  });
</script>
</body>
</html>
